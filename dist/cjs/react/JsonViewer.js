var se=Object.create;var R=Object.defineProperty;var de=Object.getOwnPropertyDescriptor;var pe=Object.getOwnPropertyNames;var ce=Object.getPrototypeOf,le=Object.prototype.hasOwnProperty;var he=(t,a,e)=>a in t?R(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var xe=(t,a)=>{for(var e in a)R(t,e,{get:a[e],enumerable:!0})},G=(t,a,e,o)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of pe(a))!le.call(t,i)&&i!==e&&R(t,i,{get:()=>a[i],enumerable:!(o=de(a,i))||o.enumerable});return t};var fe=(t,a,e)=>(e=t!=null?se(ce(t)):{},G(a||!t||!t.__esModule?R(e,"default",{value:t,enumerable:!0}):e,t)),be=t=>G(R({},"__esModule",{value:!0}),t);var K=(t,a,e)=>(he(t,typeof a!="symbol"?a+"":a,e),e),Q=(t,a,e)=>{if(!a.has(t))throw TypeError("Cannot "+e)};var r=(t,a,e)=>(Q(t,a,"read from private field"),e?e.call(t):a.get(t)),S=(t,a,e)=>{if(a.has(t))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(t):a.set(t,e)},j=(t,a,e,o)=>(Q(t,a,"write to private field"),o?o.call(t,e):a.set(t,e),e);var ve={};xe(ve,{default:()=>ye});module.exports=be(ve);var F=fe(require("react"));var V=`.container{background-color:var(--base00);color:var(--base05);padding:10px;letter-spacing:0.5px;font-family:monospace;border-radius:3px}.toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding-bottom:5px;border-bottom:solid 1px var(--base02)}.toolbar .options,.toolbar .search-wrapper{display:flex;align-items:center}.toolbar .icon-wrapper{height:15px;display:flex;align-items:center;padding:2px 5px}.toolbar .icon-wrapper:hover{background-color:var(--base02);border-radius:3px}.toolbar .icon-wrapper:first-child{margin-left:0px}.toolbar .search.icon{margin-right:5px}.toolbar .search-input{border:none;background:transparent;outline:none;flex:1;font-size:16px;color:var(--base0D)}.match{background-color:yellow;font-weight:bold;color:red}.data-row{padding:3px 0}.data-row .data-row{border-left:solid 1px var(--base02);padding-left:20px;margin-left:5px;display:none}.data-row.expanded>.data-row{display:block}.data-row .key-value-wrapper{display:flex;align-items:center}.data-row .key{color:var(--base07)}.data-row .key.number{color:var(--base0C)}.data-row .colon{color:var(--base07);margin:0 5px}.clickable{cursor:pointer}.data-row .opening-parenthesis,.data-row .closing-parenthesis{color:var(--base07)}.data-row .ellipsis{color:var(--base09)}.data-row.expanded>.key-value-wrapper .closing-parenthesis,.data-row.expanded>.key-value-wrapper .ellipsis{display:none}.data-row>.closing-parenthesis{display:none}.data-row.expanded>.closing-parenthesis{display:inline-block}.data-row .items-size{margin-left:10px;color:var(--base04);font-style:italic;display:none}.show-size .data-row .items-size{display:inline-block}.data-row .value.bool,.data-row .value.boolean{color:var(--base0E)}.data-row .value.function{color:var(--base0D)}.data-row .value.int,.data-row .value.integer{color:var(--base0F)}.data-row .value.float{color:var(--base0B)}.data-row .value.string{color:var(--base09)}.data-row .value.string .content{overflow-wrap:break-word}.data-row .value.string .content::before{content:open-quote}.data-row .value.string .content::after{content:close-quote}.data-row .value.regexp{color:var(--base0A)}.data-row .value.nan{color:var(--base08)}.data-row .value.null{color:var(--base0A)}.data-row .value.undefined{color:var(--base05)}.data-row .value.date{color:var(--base0D)}.data-row .value.nan,.data-row .value.null,.data-row .value.undefined{border-radius:3px;background-color:var(--base02);padding:1px 2px}.data-row .value .type{font-size:smaller;margin-right:4px;opacity:0.8;display:none}.data-row .value .value-data{word-break:break-all}.show-data-types .data-row .value .type{display:inline-block}.icon-wrapper,.copy-icon-wrapper{display:inline-block;cursor:pointer}.icon{display:block;position:relative}.icon:before,.icon:after{content:"";position:absolute;display:block}.expand.icon{margin-right:5px}.expand-icon-arrow .expand.icon{margin-left:3px;width:0;height:0;border-left:solid 6px var(--base0E);border-top:solid 6px transparent;border-bottom:solid 6px transparent}.expand-icon-arrow .expanded>.key-value-wrapper .expand.icon,.expand-icon-arrow .expanded.icon.expand{transform:rotate(90deg);border-left-color:var(--base0D)}.expand-icon-square .expand.icon,.expand-icon-circle .expand.icon{display:block;width:9px;height:9px;border-radius:2px;border:solid 1px var(--base0E)}.expand-icon-circle .expand.icon{border-radius:50%}.expand-icon-square .expand.icon:before,.expand-icon-circle .expand.icon:before,.expand-icon-square .expand.icon:after,.expand-icon-circle .expand.icon:after{width:5px;height:1px;background-color:var(--base0E);left:2px;top:4px}.expand-icon-square .expand.icon:after,.expand-icon-circle .expand.icon:after{transform:rotate(90deg)}.expand-icon-square .expanded>.key-value-wrapper .expand.icon:after,.expand-icon-circle .expanded>.key-value-wrapper .expand.icon:after,.expand-icon-square .expand.icon.expanded:after,.expand-icon-circle .expand.icon.expanded:after{display:none}.expand-icon-square .expanded>.key-value-wrapper .expand.icon,.expand-icon-circle .expanded>.key-value-wrapper .expand.icon,.expand-icon-square .expand.icon.expanded,.expand-icon-circle .expanded.expand.icon{border-color:var(--base0D)}.expand-icon-square .expanded>.key-value-wrapper .expand.icon:before,.expand-icon-circle .expanded>.key-value-wrapper .expand.icon:before,.expand-icon-square .expanded.expand.icon:before,.expand-icon-circle .expanded.expand.icon:before{background-color:var(--base0D)}.icon-wrapper{display:inline-block;cursor:pointer}.show-copy .key-value-wrapper:hover .icon.copy{display:block}.copy.icon{margin-left:10px;display:none;width:8px;height:10px;border:solid 1px var(--base0D);border-radius:1px;position:relative;top:4px;transition:0.2s all}.copy.icon:active{transform:scale(1.6);background-color:var(--base0B)}.copy.icon:before{content:"";display:block;left:-3px;top:-3px;width:8px;height:10px;border-top:solid 1px var(--base0D);border-left:solid 1px var(--base0D);border-radius:1px 0 0 0}.plus.icon{width:11px;height:1px;background-color:var(--base0D)}.plus.icon:after{content:"";width:11px;height:1px;background-color:var(--base0D);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.minus.icon{width:11px;height:1px;background-color:var(--base0D)}.indent.icon{color:var(--base0D);width:17px;height:8px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.indent.icon:before{content:"";position:absolute;top:2px;right:0;width:11px;height:2px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.indent.icon:after{content:"";position:absolute;top:1px;width:0;height:0;border-top:solid 3px transparent;border-bottom:solid 3px transparent;border-left:solid 3px var(--base0D);border-right:solid 3px transparent}.outdent.icon{color:var(--base0D);margin-left:2px;width:17px;height:8px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.outdent.icon:before{content:"";top:2px;right:0;width:11px;height:2px;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D)}.outdent.icon:after{content:"";top:1px;left:-3px;width:0;height:0;border-top:solid 3px transparent;border-bottom:solid 3px transparent;border-left:solid 3px transparent;border-right:solid 3px var(--base0D)}.refresh.icon{color:var(--base0D);width:10px;height:10px;border-radius:50%;border-top:solid 1px var(--base0D);border-bottom:solid 1px var(--base0D);border-left:solid 1px transparent;border-right:solid 1px var(--base0D)}.refresh.icon:before{content:"";left:1px;top:8px;width:3px;height:3px;border-top:solid 1px var(--base0D);border-left:solid 1px var(--base0D);-webkit-transform:rotate(-22.5deg);transform:rotate(-22.5deg)}.info.icon{width:12px;height:11px;border:solid 1px var(--base0D);border-radius:2px}.info.icon::before{top:5px;left:5px;width:2px;height:5px;background-color:var(--base0D)}.info.icon::after{top:2px;left:5px;width:2px;height:2px;background-color:var(--base0D)}.info.icon.active{background-color:var(--base0D)}.info.icon.active::before,.info.icon.active::after{background-color:var(--base02)}.search.icon{color:var(--base0D);width:11px;height:11px;border:solid 1px var(--base0D);border-radius:100%;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.search.icon:before{content:"";top:11px;left:5px;height:6px;width:1px;background-color:var(--base0D)}
`;var H={"default-light":["#ffffff","#e8e8e8","#d8d8d8","#b8b8b8","#585858","#383838","#282828","#181818","#ab4642","#dc9656","#ab4642","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"]},Ce=Object.keys(H),X=t=>{let a;if(typeof t=="string"){if(H[t]===void 0)throw new Error(`${t} not found`);a=H[t].reduce((e,o,i)=>{let n=`base0${i.toString(16).toUpperCase()}`;return e[n]=o,e},{})}else a=t;return`.container{${Object.keys(a).map(e=>`--${e}: ${a[e]};`).join("")}}`};var Y=t=>{if(Array.isArray(t))return"array";if(t===null)return"null";if(t instanceof RegExp)return"regexp";let a=typeof t;return a==="number"?isNaN(t)?"NaN":isFinite(t)?Number.isInteger(t)?"int":"float":"Infinity":a==="boolean"?"bool":a==="object"&&t instanceof Date?"date":a};var W=t=>{if(typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("should be a boolean!")},_=t=>{if(typeof t=="string")return t;throw new Error("should be a string!")},ee=t=>{if(typeof t=="number"&&t>=0)return t;if(typeof t=="string"&&(t=parseFloat(t)),isNaN(t)||t<0)throw new Error("should be a positive number!");return t},te=t=>{if(typeof t=="boolean"||typeof t=="number")return t;if(t==="true")return!0;if(t==="false")return!1;if(typeof t=="string"&&(t=parseFloat(t),!isNaN(t)&&t>=0))return t;throw new Error("should be a boolean or a positive number!")},Z=t=>{if(typeof t=="object")return t;if(typeof t=="string")try{return JSON.parse(t)}catch(a){return console.debug(a),t}throw new Error("should be a string or JSON!")};var ae=function({key:t,value:a,expanded:e,indent:o,onToggleExpand:i,level:n=0,parentRow:u}){let d=document.createElement("div");this.maxLevel=n;let c=Y(a),y=c==="array"||c==="object",g=e===!0||e>n,x,v,f,m;d.className=`data-row ${g?"expanded":""}`,d.dataset.key=t,d.dataset.level=n,n>0&&(d.style.paddingLeft=`${o*5}px`);let p=document.createElement("span");p.className="key-value-wrapper",d.appendChild(p);let k=()=>{d.classList.toggle("expanded"),i&&(d.classList.contains("expanded")?i(n+1):i(n))};if(y){let s=document.createElement("span");s.className="icon-wrapper",p.appendChild(s),x=document.createElement("span"),x.className="expand icon clickable",x.setAttribute("title",g?"Collapse":"Expand"),s.appendChild(x),x.addEventListener("click",()=>k())}if(t!==null&&t!==""){let s=typeof t;f=document.createElement("span"),f.className=`key clickable ${s==="number"?"number":""}`,f.textContent=s==="number"?t:`"${t}"`,f.addEventListener("click",()=>k()),p.appendChild(f);let l=document.createElement("span");l.classList.add("colon"),l.textContent=":",p.appendChild(l)}if(y){let s=document.createElement("span");s.className="opening-parenthesis",s.textContent=c==="array"?"[":"{",p.appendChild(s);let l=document.createElement("span");l.className="ellipsis clickable",l.textContent="...",l.addEventListener("click",()=>k()),p.appendChild(l);let b=document.createElement("span");b.className="closing-parenthesis",b.textContent=c==="array"?"]":"}",p.appendChild(b);let D=document.createElement("span"),T=c==="array"?a.length:Object.keys(a).length;D.className="items-size",D.textContent=`${T} item${T===1?"":"s"}`,p.appendChild(D),v=[],(c==="array"?a.map((L,N)=>N):Object.keys(a)).forEach(L=>{let N=new ae({key:L,value:a[L],expanded:e,indent:o,onToggleExpand:i,level:n+1,parentRow:d});v.push(N),d.appendChild(N.element),this.maxLevel=Math.max(this.maxLevel,N.maxLevel)});let q=document.createElement("span");q.className="closing-parenthesis",q.textContent=c==="array"?"]":"}",d.appendChild(q)}else{let s=null;["nan","NaN","undefined","null"].includes(c)||(s=document.createElement("span"),s.className="type",s.textContent=c.toLowerCase());let l=document.createElement("span");l.className=`value ${c.toLowerCase()}`,m=document.createElement("span"),m.className="value-data",m.textContent=c==="string"?`"${a}"`:a,s&&l.appendChild(s),l.appendChild(m),p.appendChild(l)}let w=document.createElement("span");w.className="copy icon",w.setAttribute("title","Copy to clipboard"),w.addEventListener("click",()=>{navigator.clipboard.writeText(JSON.stringify(a,null,o))});let E=document.createElement("span");E.className="icon-wrapper",E.appendChild(w),p.appendChild(E);let A=s=>{let l=new RegExp(s,"gi"),b=[];f&&b.push(f),m&&b.push(m);let D=!1;b.forEach(T=>{let z=T.textContent;if(T.innerHTML=z,!s||s==="")return;let q=[...z.matchAll(l)].map(P=>P.index),L=[],N=0;q.forEach(P=>{D=!0,L.push(z.slice(N,P)),L.push(`<span class="match">${s}</span>`),N=P+s.length}),L.push(z.slice(N)),T.innerHTML=L.join("")}),D&&!d.classList.contains("expanded")&&(k(),u&&u.classList.add("expanded"))};this.update=({expanded:s,indent:l,searchTerm:b})=>{l!==void 0&&n>0&&(d.style.paddingLeft=`${l*5}px`),s!==void 0&&(g=s===!0||s>n,d.classList.toggle("expanded",g),x&&(x.title=g?"Collapse":"Expand")),b!=null&&A(b),v&&v.forEach(D=>D.update({expanded:s,indent:l,searchTerm:b}))},this.element=d},ne=ae;var me=function({expanded:t,indent:a,onChange:e,onSearch:o,showDetails:i}){this.indent=a||2,this.expanded=typeof t=="number"?t:2,this.showDetails=i!==!1,this.maxExpandLevel=0;let n,u=document.createElement("div");u.className="toolbar";let d=document.createElement("div");d.className="options",u.appendChild(d);let c=document.createElement("div");c.className="search-wrapper",u.appendChild(c);let y=document.createElement("div");y.className="icon-wrapper clickable",d.appendChild(y);let g=document.createElement("span");g.className="icon refresh",y.onclick=()=>this.refresh(),y.appendChild(g);let x=document.createElement("div");x.className="icon-wrapper clickable",d.appendChild(x);let v=document.createElement("span");v.className="icon plus",x.appendChild(v),x.onclick=()=>{this.expanded<this.maxExpandLevel&&(this.expanded+=1),e({expanded:this.expanded})};let f=document.createElement("div");f.className="icon-wrapper clickable",d.appendChild(f);let m=document.createElement("span");m.className="icon minus",f.appendChild(m),f.onclick=()=>{this.expanded>this.maxExpandLevel&&(this.expanded=this.maxExpandLevel),this.expanded>0&&(this.expanded-=1),e({expanded:this.expanded})};let p=document.createElement("div");p.className="icon-wrapper clickable",d.appendChild(p);let k=document.createElement("span");k.className="icon indent",p.onclick=()=>{this.indent+=1,e({indent:this.indent})},p.appendChild(k);let w=document.createElement("div");w.className="icon-wrapper clickable",d.appendChild(w);let E=document.createElement("span");E.className="icon outdent",w.onclick=()=>{this.indent-=1,e({indent:this.indent})},w.appendChild(E);let A=document.createElement("div");A.className="icon-wrapper clickable",d.appendChild(A);let s=document.createElement("span");s.className=`icon info ${this.showDetails?"active":""}`,A.onclick=()=>{s.classList.toggle("active"),this.showDetails=!this.showDetails,e({showDetails:this.showDetails})},A.appendChild(s);let l=document.createElement("span");l.className="icon search",c.appendChild(l),n=document.createElement("input"),n.className="search-input",n.placeholder="Search",n.oninput=b=>{o(b.target.value)},c.appendChild(n),this.refresh=()=>{this.expanded=1,this.indent=2,n&&(n.value=""),e({indent:2,expanded:1}),o("")},this.updateShowDetails=b=>{this.showDetails=b,this.showDetails?s.classList.add("active"):s.classList.remove("active")},this.element=u},oe=me;function we(t,a={}){let e=document.createElement("div");e.className="container",t.appendChild(e);let o=null,i=null,n={};this.update=({data:u,expanded:d,indent:c,expandIconType:y,showDataTypes:g,showToolbar:x,showSize:v,showCopy:f})=>{if(u){let p=JSON.stringify(u);n.dataComapreString!==p&&(n.dataComapreString=p,o=new ne({key:"",value:u,expanded:d,indent:c,onToggleExpand:k=>{i&&(i.expanded=k),n.expanded=k}}),e.replaceChildren(o.element),n.showToolbar&&i&&(e.prepend(i.element),i.maxExpandLevel=o.maxLevel,i.refresh()))}if(x!==void 0&&n.showToolbar!==x)if(n.showToolbar=x,x)i||(i=new oe({expanded:n.expanded,indent:n.indent,onChange:({expanded:p,indent:k,showDetails:w})=>{let E={expanded:p,indent:k};w!==void 0&&(E.showCopy=w,E.showSize=w,E.showDataTypes=w),this.update(E)},onSearch:p=>{o&&o.update({searchTerm:p})}})),o&&(i.maxExpandLevel=o.maxLevel),e.prepend(i.element);else{let p=e.querySelector(".toolbar");p&&p.remove()}let m={};d!==void 0&&n.expanded!==d&&(n.expanded=d,m.expanded=d),c!==void 0&&n.indent!==c&&(n.indent=c,m.indent=c),Object.keys(m).length>0&&o&&o.update(m),f!==void 0&&n.showCopy!==f&&(n.showCopy=f,e.classList.toggle("show-copy",f)),v!==void 0&&n.showSize!==v&&(n.showSize=v,e.classList.toggle("show-size",v),i&&i.updateShowDetails(n.showSize||n.showDataTypes)),g!==void 0&&n.showDataTypes!==g&&(n.showDataTypes=g,e.classList.toggle("show-data-types",g),i&&i.updateShowDetails(n.showSize||n.showDataTypes)),y!==void 0&&n.expandIconType!==y&&(e.classList.add(`expand-icon-${y}`),e.classList.remove(`expand-icon-${n.expandIconType}`),n.expandIconType=y)},this.update(a)}var re=we;var ie={indent:2,expanded:1,theme:"default-light",showDataTypes:!0,showToolbar:!1,expandIconType:"arrow",showCopy:!0,showSize:!0,data:null},$,h,J,O,I,C,B,M=class extends HTMLElement{constructor(){super();S(this,$,void 0);S(this,h,void 0);S(this,J,void 0);S(this,O,void 0);S(this,I,(...e)=>{console.warn(`JsonViewer${this.id?` (${this.id})`:""}:`,...e)});S(this,C,(e,o,i,n)=>{try{if(o=i(o),n&&!n.includes(o))throw new Error(`should be one of ${n.join(", ")}`);if(r(this,h)[e]===o)return;r(this,h)[e]=o,r(this,B).call(this)}catch(u){r(this,I).call(this,`Attribute ${e}: ${u.message}`)}});S(this,B,()=>{r(this,O).update({data:r(this,J),expanded:r(this,h).expanded,expandIconType:r(this,h).expandIconType,indent:r(this,h).indent,showDataTypes:r(this,h).showDataTypes,showToolbar:r(this,h).showToolbar,showSize:r(this,h).showSize,showCopy:r(this,h).showCopy})});j(this,h,{...ie}),j(this,$,document.createElement("style"));let e=this.attachShadow({mode:"open"}),o=document.createElement("style");o.textContent=`${V}`,e.appendChild(o),e.appendChild(r(this,$)),this.theme=r(this,h).theme,j(this,O,new re(e,r(this,h)))}static get observedAttributes(){return Object.keys(ie).map(e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())}set showDataTypes(e){r(this,C).call(this,"showDataTypes",e,W)}set showToolbar(e){r(this,C).call(this,"showToolbar",e,W)}set indent(e){r(this,C).call(this,"indent",e,ee)}set expandIconType(e){r(this,C).call(this,"expandIconType",e,_,["arrow","square","circle"])}set expanded(e){r(this,C).call(this,"expanded",e,te)}set showSize(e){r(this,C).call(this,"showSize",e,W)}set showCopy(e){r(this,C).call(this,"showCopy",e,W)}set theme(e){try{if(e=Z(e),r(this,h).theme===e&&r(this,$).textContent!=="")return;r(this,$).textContent=X(e),r(this,h).theme=e}catch(o){r(this,I).call(this,`Attribute theme: ${o.message}`)}}set data(e){try{e=Z(e);let o=JSON.stringify(e);if(r(this,h).data===o)return;r(this,h).data=o,j(this,J,e),r(this,B).call(this)}catch(o){r(this,I).call(this,`Attribute data: ${o.message}`)}}get options(){return r(this,h)}connectedCallback(){window.addEventListener("DOMContentLoaded",()=>{let e=this.textContent;this.textContent="",e&&(this.data=e)})}attributeChangedCallback(e,o,i){if(M.allowedAttributes.indexOf(e)>-1){let n=e.replace(/-([a-z])/g,u=>u[1].toUpperCase());this[n]=i}else r(this,I).call(this,`Attribute ${e} is not supported and will be ignored!`),this.removeAttribute(e)}},U=M;$=new WeakMap,h=new WeakMap,J=new WeakMap,O=new WeakMap,I=new WeakMap,C=new WeakMap,B=new WeakMap,K(U,"allowedAttributes",["id"].concat(M.observedAttributes));customElements.get("andypf-json-viewer")||customElements.define("andypf-json-viewer",U);var ge=({data:t,...a})=>{let e=F.default.useRef(null);return F.default.useEffect(()=>{e.current&&(e.current.data=t)},[t]),F.default.createElement("andypf-json-viewer",{ref:e,...a})},ye=ge;
